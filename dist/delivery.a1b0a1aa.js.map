{"version":3,"sources":["delivery.js"],"names":["sum","init","console","log","getRestDB","fetch","method","headers","then","e","json","checkForCorrctUser","params","id","URL","window","location","searchParams","get","forEach","user","updateSummary","document","querySelector","addEventListener","updateUser","swapService","chargerTotal","swapServiceTotal","textContent","charger","service","moms","preventDefault","updateSummaryclick1","updateSummaryClick2","classList","add","remove","style","opacity","parseInt","assign"],"mappings":";AAAA,aACA,IAAIA,EAAM,IAGV,SAASC,IACPC,QAAQC,IAAI,QAEZC,IAEF,SAASA,IACPF,QAAQC,IAAI,OACZE,MAAM,6DAA8D,CAClEC,OAAQ,MACRC,QAAS,CACS,eAAA,kCACJ,WAAA,2BACK,gBAAA,cAGlBC,KAAK,SAAAC,GAAKA,OAAAA,EAAEC,SACZF,KAAK,SAAAC,GAAKE,OAAAA,EAAmBF,KAGlC,SAASE,EAAmBF,GACtBG,IACAC,EADS,IAAIC,IAAIC,OAAOC,UAAUC,aACtBC,IAAI,MAEpBT,EAAEU,QAAQ,SAAAC,GACJA,EAAKP,IAAMA,IACbQ,EAAcD,GACdE,SAASC,cAAc,SAASC,iBAAiB,QAAS,WACxDC,EAAWL,QAKnB,SAASC,EAAcD,GACrBlB,QAAQC,IAAIiB,GACNM,IAEFC,EACAC,EAEJN,SAASC,cAAc,mBAAmBM,YAAcT,EAAKU,QAAU,IACvER,SAASC,cAAc,mBAAmBM,YAAcT,EAAKW,QAAU,IACvEH,EAPoB,IAODR,EAAKW,QACxBJ,EAPoB,IAOLP,EAAKU,QACpBR,SAASC,cAAc,eAAeM,YAAcD,EACpDN,SAASC,cAAc,eAAeM,YAAcF,EAChDK,IAAAA,GAASJ,EAAmBD,GAAgB,IAAO,GACvDL,SAASC,cAAc,cAAcM,YAAcG,EAAO,SAC1DhC,EAAMgC,EAAOJ,EAAmBD,EAChCL,SAASC,cAAc,eAAeM,YAAc7B,EAEpDsB,SAASC,cAAc,kBAAkBC,iBAAiB,QAAS,SAAAf,GACjEA,EAAEwB,iBACFC,EAAoBd,GACpBlB,QAAQC,IAAI,WAGdmB,SAASC,cAAc,kBAAkBC,iBAAiB,QAAS,SAAAf,GACjEA,EAAEwB,iBACFE,EAAoBf,GACpBlB,QAAQC,IAAI,WAIhB,SAAS+B,EAAoBd,GAC3BE,SAASC,cAAc,kBAAkBa,UAAUC,IAAI,eACvDf,SAASC,cAAc,kBAAkBa,UAAUE,OAAO,eAC1DpC,QAAQC,IAAI,OACZmB,SAASC,cAAc,gBAAgBgB,MAAMC,QAAU,EACvDxC,EAAMyC,SAASzC,EAAM,IACrBE,QAAQC,IAAIH,GAEZsB,SAASC,cAAc,eAAeM,YAAc7B,EAEtD,SAASmC,EAAoBf,GAC3BE,SAASC,cAAc,kBAAkBa,UAAUC,IAAI,eACvDf,SAASC,cAAc,kBAAkBa,UAAUE,OAAO,eAC1DpC,QAAQC,IAAI,OACZmB,SAASC,cAAc,gBAAgBgB,MAAMC,QAAU,EACvDxC,EAAMyC,SAASzC,EAAM,IACrBE,QAAQC,IAAIH,GAEZsB,SAASC,cAAc,eAAeM,YAAc7B,EAEtD,SAASyB,EAAWL,GAClBlB,QAAQC,IAAIiB,GACZL,OAAOC,SAAS0B,OAAO,oBAAsBtB,EAAKP,IAtFpDE,OAAOS,iBAAiB,mBAAoBvB","file":"delivery.a1b0a1aa.js","sourceRoot":"..","sourcesContent":["\"use strict\";\r\nlet sum = 378;\r\n\r\nwindow.addEventListener(\"DOMContentLoaded\", init);\r\nfunction init() {\r\n  console.log(\"INIT\");\r\n\r\n  getRestDB();\r\n}\r\nfunction getRestDB() {\r\n  console.log(\"GET\");\r\n  fetch(\"https://voltcustomers-f457.restdb.io/rest/customer-details\", {\r\n    method: \"get\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=utf-8\",\r\n      \"x-apikey\": \"5ca48775df5d634f46ecb225\",\r\n      \"cache-control\": \"no-cache\"\r\n    }\r\n  })\r\n    .then(e => e.json())\r\n    .then(e => checkForCorrctUser(e));\r\n}\r\n\r\nfunction checkForCorrctUser(e) {\r\n  let params = new URL(window.location).searchParams;\r\n  let id = params.get(\"id\");\r\n\r\n  e.forEach(user => {\r\n    if (user.id == id) {\r\n      updateSummary(user);\r\n      document.querySelector(\"#next\").addEventListener(\"click\", () => {\r\n        updateUser(user);\r\n      });\r\n    }\r\n  });\r\n}\r\nfunction updateSummary(user) {\r\n  console.log(user);\r\n  const swapService = 179;\r\n  const voltCharger = 200;\r\n  let chargerTotal = 1;\r\n  let swapServiceTotal = 1;\r\n\r\n  document.querySelector(\"#productAmount1\").textContent = user.charger + \"x\";\r\n  document.querySelector(\"#productAmount2\").textContent = user.service + \"x\";\r\n  swapServiceTotal = user.service * swapService;\r\n  chargerTotal = user.charger * voltCharger;\r\n  document.querySelector(\"#priceSpan1\").textContent = swapServiceTotal;\r\n  document.querySelector(\"#priceSpan2\").textContent = chargerTotal;\r\n  let moms = ((swapServiceTotal + chargerTotal) / 100) * 25;\r\n  document.querySelector(\"#momsValue\").textContent = moms + \",- DKK\";\r\n  sum = moms + swapServiceTotal + chargerTotal;\r\n  document.querySelector(\"#totalValue\").textContent = sum;\r\n\r\n  document.querySelector(\"#selectMethod1\").addEventListener(\"click\", e => {\r\n    e.preventDefault();\r\n    updateSummaryclick1(user);\r\n    console.log(\"CLICK\");\r\n  });\r\n\r\n  document.querySelector(\"#selectMethod2\").addEventListener(\"click\", e => {\r\n    e.preventDefault();\r\n    updateSummaryClick2(user);\r\n    console.log(\"CLICK\");\r\n  });\r\n}\r\n\r\nfunction updateSummaryclick1(user) {\r\n  document.querySelector(\"#selectMethod1\").classList.add(\"radioActive\");\r\n  document.querySelector(\"#selectMethod2\").classList.remove(\"radioActive\");\r\n  console.log(\"+50\");\r\n  document.querySelector(\"#addDelivery\").style.opacity = 0;\r\n  sum = parseInt(sum - 50);\r\n  console.log(sum);\r\n\r\n  document.querySelector(\"#totalValue\").textContent = sum;\r\n}\r\nfunction updateSummaryClick2(user) {\r\n  document.querySelector(\"#selectMethod2\").classList.add(\"radioActive\");\r\n  document.querySelector(\"#selectMethod1\").classList.remove(\"radioActive\");\r\n  console.log(\"-50\");\r\n  document.querySelector(\"#addDelivery\").style.opacity = 1;\r\n  sum = parseInt(sum + 50);\r\n  console.log(sum);\r\n\r\n  document.querySelector(\"#totalValue\").textContent = sum;\r\n}\r\nfunction updateUser(user) {\r\n  console.log(user);\r\n  window.location.assign(\"checkout.html?id=\" + user.id);\r\n}\r\n"]}